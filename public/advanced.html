
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Advanced configuration &#8212; pyramid_fullauth 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Social register and login" href="social.html" />
    <link rel="prev" title="Basics" href="basic.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="social.html" title="Social register and login"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="basic.html" title="Basics"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyramid_fullauth 2.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Advanced configuration</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="advanced-configuration">
<h1>Advanced configuration<a class="headerlink" href="#advanced-configuration" title="Permalink to this heading">¶</a></h1>
<section id="authentication-policy">
<h2>Authentication policy<a class="headerlink" href="#authentication-policy" title="Permalink to this heading">¶</a></h2>
<p>pyramid_fullauth uses <strong>AuthTktAuthenticationPolicy</strong>. It’s default settings are
stored within config as:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">fullauth.authtkt.secret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">fullauth_psst</span><span class="w"> </span><span class="c1"># default secret used to hash auth_tk cookie</span>
<span class="na">fullauth.authtkt.hashalg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">sha512</span><span class="w">       </span><span class="c1"># default authentication policy hash algorithm</span>
<span class="na">fullauth.authtkt.timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">2</span><span class="w">            </span><span class="c1"># (optional) number of seconds for which an auth ticket will be valid</span>
<span class="na">fullauth.authtkt.reissue_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0.2</span><span class="w">     </span><span class="c1"># (optional) number of seconds that must pass before an authentication token cookie is automatically reissued as the result of a request which requires authentication</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>timeout</strong> and <strong>reissue_time</strong> settings indicate after which period of time
user will be logged out in case of inactivity. If not included in your
AuthTktAuthenticationPolicy config, default value for them will be None.
To get a better insight on how they work when they are set, look at
<strong>tests.test_login</strong>: <strong>test_automatic_logout</strong> and
<strong>test_automatic_logout_not_expired</strong> test cases.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more information about additional settings that could be included
in your AuthTktAuthenticationPolicy
as well as how to set optimal values for timeout and reissue_time please see
<a class="reference external" href="https://docs.pylonsproject.org/projects/pyramid/en/2.0-branch/api/authentication.html#pyramid.authentication.AuthTktAuthenticationPolicy" title="(in The Pyramid Web Framework v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthTktAuthenticationPolicy</span></code></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>callback</strong> setting is defined as <a class="reference internal" href="api/auth.html#pyramid_fullauth.auth.groupfinder" title="pyramid_fullauth.auth.groupfinder"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pyramid_fullauth.auth.groupfinder()</span></code></a>.</p>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To restrict subdomain applications from using the same cookie, use
<strong>fullauth.authtkt.wild_domain setting</strong>, and set it to False.
This will restrict emitted cookies to current domain only.
You can also change settings as <strong>fullauth.authtkt.cookie_name</strong> and
<strong>fullauth.authtkt.secret</strong> to make sure, your apps will use different cookie names and salts.</p>
</div>
</section>
<section id="authentication-providers">
<h2>Authentication Providers<a class="headerlink" href="#authentication-providers" title="Permalink to this heading">¶</a></h2>
<p>Might happen, that the project needs to identify what authentication providers
is user using (Might use e.g facebook, google, email, some OpenID). That’s what
the user.providers relation is for.</p>
<p>It stores data needed to authenticate with different providers for each user,
but the exception is email, where user is identified by id in a system. Each of
the social providers entry gets added by connecting user account with given
social network, and the email entry during standard registration or during reset
password.</p>
</section>
<section id="acl">
<h2>ACL<a class="headerlink" href="#acl" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pyramid_fullauth</span></code> package provides also a basic ACL Mixin for your RootFactory.
It contains basic acl definition as well as init method.</p>
<p>See <a class="reference internal" href="api/auth.html#pyramid_fullauth.auth.BaseACLRootFactoryMixin" title="pyramid_fullauth.auth.BaseACLRootFactoryMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyramid_fullauth.auth.BaseACLRootFactoryMixin</span></code></a></p>
</section>
<section id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this heading">¶</a></h2>
<p>Plugin emits several events throughout the registration process,
login and several other actions.</p>
<p>All of them, along with details description can be found in the
<a class="reference internal" href="api/events.html#module-pyramid_fullauth.events" title="pyramid_fullauth.events"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyramid_fullauth.events</span></code></a> package.</p>
<p>Read the <a class="reference external" href="https://docs.pylonsproject.org/projects/pyramid/en/2.0-branch/narr/events.html#events-chapter" title="(in The Pyramid Web Framework v2.0)"><span>Using Events</span></a> chapter of Pyramid’s documentation to see how to
add an event subscriber to Your application and handle those events.</p>
</section>
<section id="session-factory">
<h2>Session Factory<a class="headerlink" href="#session-factory" title="Permalink to this heading">¶</a></h2>
<p><em>pyramid_fullauth</em> allows you to connect custom session factory within application,
by default, it uses pyramid’s <a class="reference external" href="https://docs.pylonsproject.org/projects/pyramid/en/2.0-branch/api/session.html#pyramid.session.SignedCookieSessionFactory" title="(in The Pyramid Web Framework v2.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">SignedCookieSessionFactory()</span></code></a>,
but using different session factory is just a matter of appropriate settings in
<strong>fullauth.session</strong>. See <a class="reference internal" href="basic.html#configuration"><span class="std std-ref">Configuration</span></a> section on how to configure.</p>
<p>More on sessions and session factory can be read in _ <a class="reference external" href="https://docs.pylonsproject.org/projects/pyramid/en/2.0-branch/narr/sessions.html#sessions-chapter" title="(in The Pyramid Web Framework v2.0)"><span>Sessions</span></a>
chapter of Pyramid’s documentation</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Advanced configuration</a><ul>
<li><a class="reference internal" href="#authentication-policy">Authentication policy</a></li>
<li><a class="reference internal" href="#authentication-providers">Authentication Providers</a></li>
<li><a class="reference internal" href="#acl">ACL</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#session-factory">Session Factory</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="basic.html"
                          title="previous chapter">Basics</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="social.html"
                          title="next chapter">Social register and login</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/advanced.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="social.html" title="Social register and login"
             >next</a> |</li>
        <li class="right" >
          <a href="basic.html" title="Basics"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyramid_fullauth 2.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Advanced configuration</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, Grzegorz Śliwiński.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.0.0.
    </div>
  </body>
</html>